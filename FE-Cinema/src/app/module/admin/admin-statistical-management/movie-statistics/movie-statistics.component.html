<div>
  <div class="row ml-2 mt-3">
    <div class="col- mr-3">
      <div class="form-group">
        <label>Thống kê theo</label>
        <select class="form-control" [(ngModel)]="statBy" (change)="resetValidate()">
          <option [ngValue]="1">Ngày</option>
          <option [ngValue]="2">Tháng</option>
          <option [ngValue]="3">Năm</option>
        </select>
      </div>
    </div>
    <div class="col- mr-3" *ngIf="statBy === 1">
      <label>Ngày bắt đầu</label>
      <input type="date" class="form-control" [(ngModel)]="startDate">
    </div>
    <div class="col- mr-3" *ngIf="statBy === 1">
      <label>Ngày kết thúc</label>
      <input type="date" class="form-control" [(ngModel)]="endDate">
    </div>
    <div class="col- mr-3" *ngIf="statBy === 2">
      <div class="form-group">
        <label>Năm</label>
        <select class="form-control" [(ngModel)]="year">
          <option value="2019">2019</option>
          <option value="2020">2020</option>
          <option value="2021" selected>2021</option>
        </select>
      </div>
    </div>
    <div class="col- mr-3" *ngIf="statBy === 3">
      <div class="form-group">
        <label>Năm</label>
        <select class="form-control" [(ngModel)]="year">
          <option value="2021">2021</option>
          <option value="2022" selected>2022</option>
          <option value="2023">2023</option>
        </select>
      </div>
    </div>
    <div class="col- mr-3" *ngIf="statBy === 2">
      <div class="form-group">
        <label>Tháng</label>
        <select class="form-control" [(ngModel)]="month">
          <option [ngValue]="1">Tháng 1</option>
          <option [ngValue]="2">Tháng 2</option>
          <option [ngValue]="3">Tháng 3</option>
          <option [ngValue]="4">Tháng 4</option>
          <option [ngValue]="5">Tháng 5</option>
          <option [ngValue]="6">Tháng 6</option>
          <option [ngValue]="7">Tháng 7</option>
          <option [ngValue]="8">Tháng 8</option>
          <option [ngValue]="9">Tháng 9</option>
          <option [ngValue]="10">Tháng 10</option>
          <option [ngValue]="11">Tháng 11</option>
          <option [ngValue]="12">Tháng 12</option>
        </select>

      </div>

    </div>
    <div class="col-">
      <label>Chức năng</label><br>
      <button class="btn btn-outline-primary" (click)="onStatByDate()" *ngIf="statBy === 1">Thống Kê</button>
      <button class="btn btn-outline-primary" (click)="onStatByMonth()" *ngIf="statBy === 2">Thống Kê</button>
      <button class="btn btn-outline-primary" (click)="onStatByYear()" *ngIf="statBy === 3">Thống Kê</button>
      <span *ngIf="dateValidate" class="small text-danger ml-3">Ngày kết thúc phải lớn hơn hoặc bẳng ngày bắt
        đầu</span>
    </div>
  </div>
  <div class="card p-3 m-2">
    <h5>Thống kê tổng doanh thu và vé phim</h5>
    <p-chart type="line" [data]="multiAxisData" [options]="multiAxisOptions" *ngIf="chartHide == false; else nodata">
    </p-chart>
    <ng-template #nodata>
      <div class="small text-danger text-center">Không có dữ liệu thống kê</div>
    </ng-template>
  </div>

  <hr>

  <div class="form-group row">
    <div class="col- ml-4 mt-3">
      <select class="form-control" [(ngModel)]="movieTop" (change)="onMovieTop()">
        <option [ngValue]="5">Top 5</option>
        <option [ngValue]="10">Top 10</option>
        <option [ngValue]="15">Top 15</option>
      </select>
    </div>
  </div>
  <div class="card p-3 m-2">
    <h5>Top {{movieTop}} phim được xem nhiều nhất</h5>
    <p-chart type="bar" [data]="multiAxisDataTop" [options]="multiAxisOptionsTop"
             *ngIf="chartHideTop == false; else nodata">
    </p-chart>
    <ng-template #nodata>
      <div class="small text-danger text-center">Không có dữ liệu thống kê</div>
    </ng-template>
  </div>

</div>
